<div class="featured-posts">
  <h2 class="section-title">ğŸ—‚ï¸ Recent Blog Posts</h2>

  {% if site.posts.size > 0 %}
    <ul class="featured-posts-list">
      {% for post in site.posts limit:3 %}
        <li class="post-card">
          <h3 class="post-title">
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          </h3>
          <div class="post-meta">
            <span>ğŸ“… {{ post.date | date: "%b %-d, %Y" }}</span>
            <span>
              ğŸ‘ï¸ 
              <img 
                src="https://hits.sh/www.opsbygandal.dev{{ post.url }}.svg?style=flat-square" 
                alt="Views for {{ post.title }}" 
              />
            </span>
            <span class="read-time">â±ï¸</span>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No posts yet. Check back soon!</p>
  {% endif %}
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const posts = document.querySelectorAll(".post-card");
    posts.forEach(post => {
      const text = post.innerText || "";
      const wordCount = text.split(/\s+/).length;
      const estimatedReadingTime = Math.ceil(wordCount / 200); // Avg. 200 wpm
      const readTimeSpan = post.querySelector(".read-time");
      if (readTimeSpan) {
        readTimeSpan.textContent = `${estimatedReadingTime} min read`;
      }
    });
  });
</script>
